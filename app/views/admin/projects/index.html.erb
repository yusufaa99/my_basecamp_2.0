<h1 class="mb-4">Admin Dashboard - Projects</h1>

<div class="card shadow-sm border-0 p-4">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h4 class="fw-bold">All Projects</h4>
    
    <%= form_with url: admin_projects_path, method: :get, local: true, class: "d-flex gap-2" do %>
      <%= text_field_tag :search, params[:search], placeholder: "Search projects...", class: "form-control" %>
      <%= submit_tag "Search", class: "btn btn-primary" %>
    <% end %>
  </div>

  <table class="table table-striped">
    <thead>
      <tr>
        <th>Project Name</th>
        <th>Owner</th>
        <th>Created At</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <% @projects.each do |project| %>
        <tr>
          <td><%= link_to project.title, admin_project_path(project) %></td>
          <td><%= project.creator.name %></td>
          <td><%= project.created_at.strftime("%b %d, %Y") %></td>
          <td>
            <%= link_to "Edit", edit_admin_project_path(project), class: "btn btn-sm btn-warning" %>
            <%= link_to "Delete", admin_project_path(project), method: :delete, data: { confirm: "Are you sure?" }, class: "btn btn-sm btn-danger" %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>

  <div class="mt-3">
  <%= @projects.class %>

  </div>
</div>
