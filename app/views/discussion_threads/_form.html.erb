<%= form_with model: @discussion_thread, local: true do |f| %>
    <% if @discussion_thread.errors.any? %>
      <div class="alert alert-danger">
        <ul>
          <% @discussion_thread.errors.full_messages.each do |msg| %>
            <li><%= msg %></li>
          <% end %>
        </ul>
      </div>
    <% end %>
  
    <div class="mb-3">
      <%= f.label :title, class: "form-label" %>
      <%= f.text_field :title, class: "form-control" %>
    </div>
  
    <div class="mb-3">
      <%= f.label :description, class: "form-label" %>
      <%= f.text_area :description, rows: 5, class: "form-control" %>
    </div>
  
    <% if @project %>
      <p class="mb-3">This thread is linked to project: <strong><%= @project.title %></strong></p>
      <!-- Optionally, store the project_id hidden -->
      <%= f.hidden_field :project_id, value: @project.id %>
    <% else %>
      <div class="mb-3">
        <%= f.label :project_id, "Project (optional)", class: "form-label" %>
        <%= f.number_field :project_id, class: "form-control" %>
      </div>
    <% end %>
  
    <div class="mb-3">
      <%= f.submit @discussion_thread.new_record? ? "Create Thread" : "Update Thread", class: "btn btn-primary" %>
    </div>
  <% end %>
  